@page "/"
@layout MainLayout
@using SmartHome.Shared.Interfaces
@inject IFormFactor FormFactor

<PageTitle>Home</PageTitle>

<AuthorizeView>
    <Authorized>
        <h1>Hello, Client !</h1>

        Welcome to your new app running on <em>@factor</em> using <em>@platform</em>.
		<br />

		<a @onclick="logout" class="btn btn-danger">Logout</a>
    </Authorized>
    <NotAuthorized>
        @{navigationManager.NavigateTo("/login");}
    </NotAuthorized>
</AuthorizeView>



@code {
    private string factor => FormFactor.GetFormFactor();
    private string platform => FormFactor.GetPlatform();

    private async void logout()
    {
        await authStateProvider.Logout();
    }
}
